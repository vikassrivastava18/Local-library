"use strict";(self["webpackChunklibrary"]=self["webpackChunklibrary"]||[]).push([[753],{9753:function(r,e,o){o.r(e),o.d(e,{default:function(){return f}});var s=o(6768),t=o(5130),n=o(4232);const a={key:0,class:"text-danger mt-1"},l={class:"mb-3"},i={class:"mb-3"};function u(r,e,o,u,m,c){return(0,s.uX)(),(0,s.CE)("form",{onSubmit:e[2]||(e[2]=(0,t.D$)((...r)=>c.login&&c.login(...r),["prevent"]))},[m.error?((0,s.uX)(),(0,s.CE)("div",a,[(0,s.Lk)("div",null,(0,n.v_)(m.error),1)])):(0,s.Q3)("",!0),(0,s.Lk)("div",l,[e[3]||(e[3]=(0,s.Lk)("label",{for:"username",class:"form-label"},"Username",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=r=>m.form.username=r),class:"form-control",id:"username",required:""},null,512),[[t.Jo,m.form.username]])]),(0,s.Lk)("div",i,[e[4]||(e[4]=(0,s.Lk)("label",{for:"password",class:"form-label"},"Password",-1)),(0,s.bo)((0,s.Lk)("input",{type:"password","onUpdate:modelValue":e[1]||(e[1]=r=>m.form.password=r),class:"form-control",id:"password",required:""},null,512),[[t.Jo,m.form.password]])]),e[5]||(e[5]=(0,s.Lk)("button",{type:"submit",class:"btn btn-primary w-100"},"Login",-1))],32)}o(4114);var m=o(2169),c={name:"LoginComponent",components:{},data(){return{form:{username:"",password:""},error:"",success:""}},methods:{async login(){this.error="",this.success="";try{const r=m.E+"auth/login/",e=await fetch(r,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.form)});if(e.ok){const r=await e.json(),o=r.token;localStorage.setItem("auth_token",o),this.$router.push({name:"Home"})}else{const r=await e.json();this.error=r["non_field_errors"]}}catch(r){this.error="Network error. Please try again."}}}},d=o(1241);const p=(0,d.A)(c,[["render",u]]);var f=p}}]);
//# sourceMappingURL=753.e496d926.js.map