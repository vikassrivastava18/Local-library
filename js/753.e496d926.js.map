{"version":3,"file":"js/753.e496d926.js","mappings":"2MAEsBA,MAAM,oB,GAGnBA,MAAM,Q,GAKNA,MAAM,Q,0CATbC,EAAAA,EAAAA,IAcO,QAdAC,SAAMC,EAAA,KAAAA,EAAA,IAAAC,EAAAA,EAAAA,IAAA,IAAAC,IAAUC,EAAAC,OAAAD,EAAAC,SAAAF,GAAK,e,CACfG,EAAAC,Q,WAAXR,EAAAA,EAAAA,IAEM,MAFNS,EAEM,EADJC,EAAAA,EAAAA,IAAsB,YAAAC,EAAAA,EAAAA,IAAdJ,EAAAC,OAAK,O,gBAEfE,EAAAA,EAAAA,IAGM,MAHNE,EAGM,C,aAFJF,EAAAA,EAAAA,IAAyD,SAAlDG,IAAI,WAAWd,MAAM,cAAa,YAAQ,K,SACjDW,EAAAA,EAAAA,IAAuF,SAAhFI,KAAK,O,qCAAgBP,EAAAQ,KAAKC,SAAQC,GAAElB,MAAM,eAAemB,GAAG,WAAWC,SAAA,I,iBAAlDZ,EAAAQ,KAAKC,eAGnCN,EAAAA,EAAAA,IAGM,MAHNU,EAGM,C,aAFJV,EAAAA,EAAAA,IAAyD,SAAlDG,IAAI,WAAWd,MAAM,cAAa,YAAQ,K,SACjDW,EAAAA,EAAAA,IAA2F,SAApFI,KAAK,W,qCAAoBP,EAAAQ,KAAKM,SAAQJ,GAAElB,MAAM,eAAemB,GAAG,WAAWC,SAAA,I,iBAAlDZ,EAAAQ,KAAKM,c,aAEvCX,EAAAA,EAAAA,IAAkE,UAA1DI,KAAK,SAASf,MAAM,yBAAwB,SAAK,K,0BAM7D,GACEuB,KAAM,iBACNC,WAAY,CAEZ,EACAC,IAAAA,GACE,MAAO,CACLT,KAAM,CACJC,SAAU,GACVK,SAAU,IAEZb,MAAO,GACPiB,QAAS,GAEb,EACAC,QAAS,CACP,WAAMpB,GACJqB,KAAKnB,MAAQ,GACbmB,KAAKF,QAAU,GACf,IACE,MAAMG,EAAMC,EAAAA,EAAa,cACnBC,QAAiBC,MAAMH,EAAK,CAChCI,OAAQ,OACRC,QAAS,CAAE,eAAgB,oBAC3BC,KAAMC,KAAKC,UAAUT,KAAKZ,QAE5B,GAAIe,EAASO,GAAI,CACf,MAAMb,QAAYM,EAASQ,OACrBC,EAAQf,EAAKe,MACnBC,aAAaC,QAAQ,aAAcF,GACnCZ,KAAKe,QAAQC,KAAK,CAAErB,KAAM,QAC5B,KAAO,CACL,MAAME,QAAaM,EAASQ,OAC5BX,KAAKnB,MAAQgB,EAAK,mBACpB,CACF,CAAE,MAAOoB,GACPjB,KAAKnB,MAAQ,kCACf,CACF,I,UCrDJ,MAAMqC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://library/./src/pages/auth/LoginComponent.vue","webpack://library/./src/pages/auth/LoginComponent.vue?4878"],"sourcesContent":["<template>\r\n  <form @submit.prevent=\"login\">\r\n    <div v-if=\"error\" class=\"text-danger mt-1\">\r\n      <div>{{ error }}</div>\r\n    </div>\r\n    <div class=\"mb-3\">\r\n      <label for=\"username\" class=\"form-label\">Username</label>\r\n      <input type=\"text\" v-model=\"form.username\" class=\"form-control\" id=\"username\" required>\r\n    </div>\r\n\r\n    <div class=\"mb-3\">\r\n      <label for=\"password\" class=\"form-label\">Password</label>\r\n      <input type=\"password\" v-model=\"form.password\" class=\"form-control\" id=\"password\" required>\r\n    </div>\r\n    <button type=\"submit\" class=\"btn btn-primary w-100\">Login</button>\r\n  </form>\r\n</template>\r\n<script>\r\nimport { backendUrl } from '../../config'\r\n\r\nexport default {\r\n  name: 'LoginComponent',\r\n  components: {\r\n\r\n  },\r\n  data() {\r\n    return {\r\n      form: {\r\n        username: '',\r\n        password: ''\r\n      },\r\n      error: '',\r\n      success: ''\r\n    }\r\n  },\r\n  methods: {\r\n    async login() {\r\n      this.error = ''\r\n      this.success = ''\r\n      try {\r\n        const url = backendUrl + 'auth/login/'\r\n        const response = await fetch(url, {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json' },\r\n          body: JSON.stringify(this.form)\r\n        })\r\n        if (response.ok) {\r\n          const data =await response.json();\r\n          const token = data.token\r\n          localStorage.setItem('auth_token', token)\r\n          this.$router.push({ name: 'Home' })\r\n        } else {\r\n          const data = await response.json()\r\n          this.error = data['non_field_errors']\r\n        }\r\n      } catch (err) {\r\n        this.error = 'Network error. Please try again.'\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n\r\n</style>","import { render } from \"./LoginComponent.vue?vue&type=template&id=60dcce6b\"\nimport script from \"./LoginComponent.vue?vue&type=script&lang=js\"\nexport * from \"./LoginComponent.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","onSubmit","_cache","_withModifiers","args","$options","login","$data","error","_hoisted_1","_createElementVNode","_toDisplayString","_hoisted_2","for","type","form","username","$event","id","required","_hoisted_3","password","name","components","data","success","methods","this","url","backendUrl","response","fetch","method","headers","body","JSON","stringify","ok","json","token","localStorage","setItem","$router","push","err","__exports__","render"],"sourceRoot":""}